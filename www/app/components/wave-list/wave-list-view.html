<ion-view view-title="Series {{ ::viewCtrl.seriesId }}">
	<ion-nav-buttons side="primary">
		<div class="nav-icon-buttons">
			<button class="button button-clear"
					ng-click="viewCtrl.toggleOnlyOwned()"
					ng-class="{
						'filter-button-active' : !viewCtrl.isFilteringOwned
					}"
			>
				<span class="ion-android-funnel"></span>
			</button>
			<button class="button button-clear"
					ng-click="viewCtrl.showSearch()"
			>
				<span class="ion-android-search"></span>
			</button>
		</div>
	</ion-nav-buttons>
	<ion-header-bar class="bar bar-subheader item-input-inset bar-light"
					ng-if="viewCtrl.searchShown"
	>
		<label class="item-input-wrapper">
			<i class="icon ion-ios-search placeholder-icon"></i>
			<input type="search"
				   placeholder="Search..."
				   ng-model="viewCtrl.searchFilter"
				   ng-keyup="viewCtrl.filterCards()"
				>
		</label>
		<button class="button button-clear"
				ng-click="viewCtrl.hideSearch()"
		>
			Cancel
		</button>
	</ion-header-bar>
	<ion-content lazy-scroll class="wave-list-view">
		<div class="list-wrapper"
			 ng-class="{
				'list-wrapper--searching' : viewCtrl.searchShown
			 }"
		>
			<div ng-repeat="card in viewCtrl.visibleCards track by card.id"
				 ng-show="!viewCtrl.isFilteringOwned || !card.isOwned"
				 class="list-card"
				 ng-class="{ 'card-owned' : card.isOwned }"
			>
				<span class="list-card-img-wrapper">
					<a class="list-card-img-link"
					   ng-click="viewCtrl.showCardDetails(card)"
					>
						<img alt="{{ ::card.name }}"
							 class="list-card-img"
							 ng-src="img/cards/loading.png"
							 image-lazy-distance-from-bottom-to-load="100"
							 image-lazy-src="img/cards/wave-{{ ::viewCtrl.seriesId }}/{{ ::card.id }}.png"
							>
					</a>
					<a class="interaction-checkbox"
						ng-click="viewCtrl.toggleCardOwnership(card)">
						<span class="interaction-checkbox-icon"
							ng-class="{
								'ion-android-checkbox' : card.isOwned,
								'ion-android-checkbox-blank' : !card.isOwned
						   }"
						></span>
					</a>
				</span>
			</div>
		</div>
	</ion-content>
</ion-view>
